@startuml
title: Event Chatroom Sequence Diagram 

actor Attendee
participant "__:Event__" as event
participant "__:Engagement_Manager__" as em
participant "__:Participant_Catalog__" as pc
collections "__:Participant__" as participant
participant "__:Chatroom__" as chatroom
participant "__cu:Chatroom_User__" as chatroomuser

note left : a Participant is an association class \n between a user and an event,but it's contained \nin participan_registry , which is an attribute of Event. \n We have to change this. \nHere I will consider a participant to be a user. 

Attendee -> event : joinChatroom()
event -> pc : getParticipant(id:Int)
pc -> participant : p: find(id : Int)
participant --> event : p: Participant
event -> em : addParticipantToChatroom(p)
em -> chatroomuser  ** : create(p : Participant)
em -> chatroom : add(cu)
chatroom --> em : Confirmation
em --> event : Confirmation
event --> Attendee : Confirmation
Attendee -> event : chat()
event -> em : enterChat(p)
em -> chatroom : find(p)
chatroom --> em : cu:Chatroom_User
em -> chatroom : discuss(cu)






@enduml